---
title: "Experiment 1 List Design"
author: "Rachel"
date: \today
geometry: margin = 2cm
header-includes:
  - \usepackage{booktabs}
  - \usepackage{siunitx}
  - \usepackage{tabto}
  - \usepackage{soul}
  - \usepackage{xcolor}
  - \usepackage{placeins}
  - \usepackage{lscape}
  - \usepackage{animate}
  - \newcommand{\blandscape}{\begin{landscape}}
  - \newcommand{\elandscape}{\end{landscape}}
  - \makeatletter\renewcommand{\fps@table}{!ht}\makeatother
  - \setstcolor{red}
  - \usepackage{sectsty}
  - \sectionfont{\color{blue}} 
  - \subsectionfont{\color{blue}}
  - \subsubsectionfont{\color{darkgray}}

output:
  pdf_document: 
    fig_caption: yes
    fig_width: 7
    keep_tex: yes
    latex_engine: xelatex
    number_sections: yes
    toc: yes
    toc_depth: 4
  fontsize: 10pt
editor_options: 
  chunk_output_type: inline
---   
***
# Housekeeping   
The purpose of this file is to create the lists for Experiment 1
*Color file here: http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf*   

## Knitting    
```{r Knitting, include=F}

library(knitr)

opts_chunk$set(
  dev = 'pdf',
  comment = "", 
  echo = FALSE, 
  warning = TRUE, 
  message = TRUE,
  cache = FALSE, 
  size = "small",
  tidy.opts = list(width.cutoff = 200),
  fig.width = 8, 
  fig.height = 4.5, 
  fig.align = "center")

def.chunk.hook  <- knitr::knit_hooks$get("chunk")

knitr::knit_hooks$set(
  chunk = function(x, options) {
  x <- def.chunk.hook(x, options)
    ifelse(
      options$size != "normalsize", 
      paste0(
        "\n \\", 
        options$size,
        "\n\n", 
        x, 
        "\n\n \\normalsize"), 
        x)
})

color_block = function(color) {
    function(x, options)        sprintf('\\color{%s}\\begin{verbatim}%s\\end{verbatim}\\color{black}', color, x)
}
knitr::knit_hooks$set(error = color_block('red'))
knitr::knit_hooks$set(warning = color_block('orange'))
```

## Libraries   
```{r Library, include=F}
library(tidyverse)
library(magrittr)
library(broom)          # for extraction of coefficients
library(gganimate)      # to animate plots
library(RColorBrewer)   # to select brewer colors
library(kableExtra) 
library(lme4)
library(lmerTest)
library(ggpubr)
```

```{r, include=F}
options(width = 110)
theme_set(theme_bw())
```

# Code 9.17
```{r List.Design}
### Table with the information on how the stims should be paired + Accent x Gender x Ear assignment

tibble(
  AttendedCategory = c(
  ## Materials A
    rep("sh", 10),
    rep("s", 10),

  ## Materials B
    rep("s", 10),
    rep("sh", 10)
  ),
  
  AttendedWord = c(
  ## Materials A
    "Ambition",
    "Machinery",
    "Brochure",
    "Official",
    "Crucial",
    "Pediatrician",
    "Flourishing",
    "Reassure",
    "Graduation",
    "Vacation",
    "Parasite",
    "Obscene",
    "Medicine",
    "Tennessee",
    "Penninsula",
    "Hallucinate",
    "Arkansas",
    "Compensate",
    "Dinosaur",
    "Rehearsal",
    
  ## Materials B
    "Pregnancy",
    "Democracy",
    "Embassy",
    "Legacy",
    "Reconcile",
    "Personal",
    "Eraser",
    "Episode",
    "Literacy",
    "Coliseum",
    "Initial",
    "Beneficial",
    "Negotiate",
    "Commercial",
    "Parachute",
    "Efficient",
    "Publisher",
    "Glacier",
    "Refreshing",
    "Impatient"  
  ),
  
  UnattendedCategory = c(
  ## Materials B
    rep("s", 10),
    rep("sh", 10),
 
  ## Materials A
    rep("sh", 10),
    rep("s", 10)
  ),
    
  UnattendedWord = c(
  ## Materials B
    "Pregnancy",
    "Democracy",
    "Embassy",
    "Legacy",
    "Reconcile",
    "Personal",
    "Eraser",
    "Episode",
    "Literacy",
    "Coliseum",
    "Initial",
    "Beneficial",
    "Negotiate",
    "Commercial",
    "Parachute",
    "Efficient",
    "Publisher",
    "Glacier",
    "Refreshing",
    "Impatient",
    
  ## Materials A
    "Ambition",
    "Machinery",
    "Brochure",
    "Official",
    "Crucial",
    "Pediatrician",
    "Flourishing",
    "Reassure",
    "Graduation",
    "Vacation",
    "Parasite",
    "Obscene",
    "Medicine",
    "Tennessee",
    "Penninsula",
    "Hallucinate",
    "Arkansas",
    "Compensate",
    "Dinosaur",
    "Rehearsal"
  )) %>% 
  
## Possible Assignments (Accent x Gender x Ear)
crossing(
  Assignment_TalkerToAccent = c(
    "Attended: sh-Biased", 
    "Attended: s-Biased"
  ),
  Assignment_TalkerToGender = c(
    "Attended: Female (F)", 
    "Attended: Male (M)"
  ),
  Assignment_TalkerToEar = c(
    "Attended: Left (L)", 
    "Attended: Right (R)"
  )) %>%

## Changing file names --> Based on the *Attended Talker*
mutate(
  filename = paste(
   
  ## s/sh Bias      
    case_when(
      
      Assignment_TalkerToAccent == "Attended: sh-Biased" 
      & AttendedCategory == "sh" ~ 
        paste0("S", sep = ".",  substr(AttendedWord, 1, 5)),
      
      Assignment_TalkerToAccent == "Attended: s-Biased" 
      & AttendedCategory == "s" ~ 
        paste0("S", sep = ".",  substr(AttendedWord, 1, 5)),
       
      T ~ paste0("U", sep = ".",  substr(AttendedWord, 1, 5))
    ),
    ### substr(AttendedWord, 1, 5) --> truncates the file name to include the first 5 characters of the word assigned to the attended talker
    
  ## M/F Gender
    case_when(
      
      Assignment_TalkerToGender == "Attended: Female (F)" ~ paste0(sep = ".", "F"), 
      
      T ~ paste0(sep = ".", "M")
    ),
    
  ## L/R Ear
    case_when(
      
      Assignment_TalkerToEar == 
        "Attended: Left (L)" ~ paste0(sep = ".", "L"), 
      
      T ~ paste0(sep = ".", "R")
    )
  
    ### Paste0 should automatically fill in the separator as no character (sep = ""), or be replaced with a period in the above case. I can't seem to remove the space between the Attended Word and the portions of the file name I am trying to paste after?
)) %>% 
  
view()
```

## Key for File Names

Symbol | Meaning
------------------------------
 S.    | Shifted (ambiguous)
 U.    | Unshifted (unambiguous)
.M     | Male gender assignment
.F     | Female gender assignment
.L     | Left ear
.R     | Right ear

```{r help}
?paste0
```